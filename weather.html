<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>weather</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div>
        城市：
        <input type="text" name="name">
        <ul></ul>
    </div>
    <script>
        var oInput = document.getElementsByTagName('input')[0];

        oInput.oninput = function () {
            var value = this.value;

            var oScript = document.createElement('script');
            oScript.src = 'http://wthrcdn.etouch.cn/weather_mini?city=' + value + '&callback=ds';
            document.body.appendChild(oScript);
            document.body.removeChild(oScript);
        }


        function ds(data){
            console .log(data);
        }
        // function ds(data) {
        //     var s = data.s,
        //         str = '';
        //         s.forEach(function (ele, index) {
        //             str += '<li><a href=http://wthrcdn.etouch.cn/weather_mini?city' + ele + '>' + ele + '</a></li>';
        //         })
        //         oUl.innerHTML = str;
        //         oUl.style.display = 'block';
        // };










    </script>
</body>

</html>